<!DOCTYPE html> 
<html lang="en"> 
<head> 
    <meta charset="UTF-8"> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"> 
    <link rel="stylesheet" href="styles/styles.css">
    <link rel="website icon" type="png" href="images/logoapp.png">
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script> 
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script> 
    <title>DC Next App</title> 
    <script src="https://rawgit.com/schmich/instascan-builds/master/instascan.min.js"></script>
</head> 
 
<style> 
 

 
</style> 
 
<body> 
  
  <div id="notification" class="notification">
  <div class="notification-content"><h4>Успешно</h4><p>Ваш баланс обновлён</p></div>
  </div>
     
<div class="container"> 
    <div class="prilozhenie"> 
        <header> 
            <div class="header-bar1"> 
              <img src="images/dc.next.menushka.png" class="icon-menu" onclick="toggleSidebar()" width="35">
            </div> 
            <img style="margin-left: 30px;" src="images/dc.next0.png" width="70px" alt=""> 
            <div class="header-bar2"> 
              <img class="icon1" src="images/dc.next-qr-code.png" width="30px"> 
              <img class="icon1 uvedomleniye" src="images/dc.next-uvedomleniye.png" width="26px"> 
            </div> 
          
          
          <div class="sidebar">
    <button class="toggle-btn" onclick="toggleSidebar()">Х</button>
    <nav class="menu">
        <ul>
          <img style="margin-bottom: 15px;" width="200px" src="images/dc.next-formenu.png">
            <li><p class="username" href="#">Исмоил Хамидзода</p></li>
            <p class="telephon-number-in-menu">+992 (07) 023-4747</p><br>
          <div class="ispvp"><li><img src="images/dc.next-identification.png" width="30px"><a class="link-in-menu" href="#"> Идентифицирован</a></li></div><br>
          <div class="ispvp"><li><a href="#"><img src="images/dc.next-svyazsbankom.png" width="25px"> Связь с банком</a></li></div><br>
            <li class="ispvp"><a href="#"><img src="images/dc.next-parametri.png" width="25px"> Параметры</a></li><br>
            <li class="ispvp"><a href="#"><img src="images/dc.next-voprosi.png" width="25px"> Частые вопросы</a></li><br>
            <li class="ispvp"><a href="#"><img src="images/dc.next-podelitsya.png" width="25px"> Поделиться приложением</a></li><br>
        </ul>
      <button class="vikhod-btn"><img src="images/dc.next-vikhod.png" width="40px"> Выход</button>
    </nav>
</div>
        </header> 
 
        <video id="scanner" style="display: none;"></video>

        <main> 
            <div class="main-header"> 
                <div class="input-poisk"> 
                    <ion-icon class="icon-poisk" name="search-outline"></ion-icon> 
                    <input class="poisk" type="text" placeholder="Поиск"> 
                </div> 
 
                <div class="balance"> 
                    <div class="check-and-time"> 
                        <div class="check"> 
                         <h1 class="hide-balance">****</h1><h1 class="balance-view">1900500,93</h1><h6 class="tjs">TJS</h6><br> 
                        </div> 
                        <div class="time"> 
                            <p>30.04.24 - 18:29:10</p> 
                        </div> 
                    </div> 
                    <div class="balance-icons"> 
                        <ion-icon id="eye-icon" name="eye-outline"></ion-icon> 
                        <ion-icon class="icon-repeat" id="showNotification" name="sync-outline"></ion-icon> 
                    </div>                 
                </div> 
            </div> 
 
            <div class="main-card-razdels"> 
                <div class="razdel1"> 
                    <div class="card1"> 
                        <img class="dc-image1" src="images/dc-image1.jpg" alt="dc"> 
                        <p style="margin-left: 8px;">DC (по номеру телефона)</p> 
                    </div> 
                </div> 
 
                <div class="razdel2"> 
                    <div class="card2"> 
                        <img style="margin-top: 3px; margin-left: 15px;" width="190px" src="images/dc.next1.png" alt=""> 
                    </div> 
                    <div class="card3"> 
                        <img style="margin-top: 3px; margin-left: 20px;" width="180px" src="images/dc.next2.png" alt=""> 
                    </div> 
                    <div class="card4"> 
                        <img style="margin-top: 3px; margin-left: 25px; border-radius: 10px;" width="150px" src="images/dc.next3.png" alt=""> 
                    </div> 
                </div> 
 
                <div class="razdel3"> 
                    <div class="card5"> 
                        <img style="margin-left: 15px;" width="240px" src="images/dc.next4.png" alt=""> 
                    </div> 
                    <div class="card6"> 
                        <img style="margin-left: 9px;" width="118px" src="images/dc.next5.png" alt=""> 
                    </div> 
                </div> 
 
                <div class="razdel4"> 
                    <div class="card7"> 
                        <img style="margin-left: 15px;" width="118px" src="images/dc.next6.png" alt=""> 
                    </div> 
                    <div class="card8"> 
                        <img style="margin-left: 9px;" width="113px" src="images/dc.next7.png" alt=""> 
                    </div> 
                    <div class="card9"> 
                        <img style="margin-left: 11px;" width="113px" src="images/dc.next8.png" alt=""> 
                    </div> 
                </div> 
 
                <div class="razdel5"> 
                    <div class="card7"> 
                        <img style="margin-left: 16px; margin-bottom: 1px;" width="116px" src="images/dc.next9.png" alt=""> 
                    </div> 
                    <div class="card8"> 
                        <img style="margin-left: 9px;" width="120px" src="images/dc.next10.png" alt=""> 
                    </div> 
                    <div class="card9"> 
                        <img style="margin-left: 6px;" width="115px" src="images/dc.next11.png" alt=""> 
                    </div> 
                </div> 
            </div> 
        </main> 
 
        <footer> 
            <div class="footer-block1">
                <div class="footer-razdel1"> 
                    <ion-icon style="color: rgb(181, 181, 181); margin-left: 40px; font-size: 25px;" name="home"></ion-icon> 
                    <p style="margin-left: 35px;" class="footer-undertext">Главная</p> 
                </div> 
                <div class="footer-razdel2"> 
                    <a href="perevod.html">
                    <ion-icon style="color: rgb(181, 181, 181); margin-left: 40px; font-size: 25px;" name="arrow-forward-circle"></ion-icon>  
                    <p style="margin-left: 35px;" class="footer-undertext">Переводы</p> 
                    </a>
                </div> 
            </div> 
            <div class="footer-razdel4"> 
                <img id="startScanButton" src="images/dc.next.scanner.png" class="scanner" width="52px" alt=""> 
            </div> 
            <div class="footer-block2"> 
                <div class="footer-razdel3"> 
                    <ion-icon style="color: rgb(181, 181, 181); margin-left: 10px; font-size: 25px;" name="grid"></ion-icon> 
                    <p style="margin-right: 40px;" class="footer-undertext">Сервисы</p> 
                </div> 
                <div class="footer-razdel5"> 
                    <ion-icon style="color: rgb(181, 181, 181); margin-right: 25px; font-size: 25px;" name="time"></ion-icon> 
                    <p style="margin-right: 35px;" class="footer-undertext">История</p> 
                </div> 
            </div> 
        </footer> 
    </div> 
</div> 
 
  <script>
  
  function toggleSidebar() {
    var sidebar = document.querySelector('.sidebar');
     sidebar.classList.toggle('open');
}
  
  
  const showNotificationBtn = document.getElementById('showNotification');
const notification = document.getElementById('notification');

showNotificationBtn.addEventListener('click', () => {
  notification.style.display = 'block';
  setTimeout(() => {
    notification.style.top = '20px'; // спускаем уведомление
    setTimeout(() => {
      notification.style.top = '-90px'; // поднимаем уведомление обратно
      setTimeout(() => {
        notification.style.display = 'none';
      }, 500);
    }, 2000);
  }, 0);
});
  
  
  const eyeIcon = document.getElementById('eye-icon');

eyeIcon.addEventListener('click', function() {
  if (eyeIcon.name === 'eye-outline') {
    eyeIcon.name = 'eye';
  } else {
    eyeIcon.name = 'eye-outline';
  }
});
  
  
  
let startY = 0;
let currentY = 0;
let isScrolling = false;
const maxStretch = 100; // Максимальное значение растяжения

document.addEventListener('touchstart', (e) => {
  startY = e.touches[0].clientY;
  isScrolling = false;
});

document.addEventListener('touchmove', (e) => {
  if (!isScrolling) {
    currentY = e.touches[0].clientY;
    let diff = currentY - startY;
    if ((diff > 0 && window.scrollY === 0) || (diff < 0 && window.scrollY + window.innerHeight >= document.body.clientHeight)) {
      e.preventDefault();
      let stretchAmount = Math.min(Math.abs(diff), maxStretch) * Math.sign(diff); // Ограничиваем растяжение
      document.querySelector('main').classList.add('elastic-effect');
      document.querySelector('main').style.transform = `translateY(${stretchAmount}px)`;
    } else {
      isScrolling = true;
    }
  }
});

document.addEventListener('touchend', () => {
  document.querySelector('main').classList.remove('elastic-effect');
  document.querySelector('main').style.transform = 'translateY(0)';
});
  
  
  
  const eyeIconchik = document.getElementById('eye-icon');
const hideBalance = document.querySelector('.hide-balance');
const balanceView = document.querySelector('.balance-view');

let isHidden = false;

eyeIconchik.addEventListener('click', function() {
  if (isHidden) {
    hideBalance.style.display = 'none';
    balanceView.style.display = 'block';
    isHidden = false;
  } else {
    hideBalance.style.display = 'block';
    balanceView.style.display = 'none';
    isHidden = true;
  }
});



const startScanButton = document.getElementById('startScanButton');
const scanner = new Instascan.Scanner({ video: document.getElementById('scanner'), mirror: false }); // mirror: false для использования задней камеры
let timer;

startScanButton.addEventListener('click', async () => {
    try {
        const cameras = await Instascan.Camera.getCameras();
        if (cameras.length > 0) {
            scanner.start(cameras[cameras.length - 1]); // Используем последнюю камеру (заднюю)
            scanner.addListener('scan', function (content) {
                alert('QR-код найден: ' + content);
                clearTimeout(timer); // Сбрасываем таймер при обнаружении QR-кода
            });
            document.getElementById('scanner').style.display = 'block';

            timer = setTimeout(() => {
                scanner.stop(); // Останавливаем сканирование после 3 секунд без обнаружения QR-кода
                document.getElementById('scanner').style.display = 'none';
                alert('QR-код не найден. Камера закрыта.');
            }, 6000);
        } else {
            alert('Камера не найдена');
        }
    } catch (error) {
        console.error('Ошибка при доступе к камере:', error);
    }
});
  
  </script>
  
</body> 
</html>