<!DOCTYPE html>  
<html lang="en">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">  
    <link rel="stylesheet" href="styles/styles.css"> 
    <link rel="website icon" type="png" href="images/logoapp.png"> 
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>  
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>  
    <title>DC Next App</title>  
    <script src="https://rawgit.com/schmich/instascan-builds/master/instascan.min.js"></script> 
    <script src="js/index.js"></script>
    <script src="js/opens.js"></script>
</head>  
  
<style>  
  
 .form.openn {
    bottom: 0;
}


.form{
  border-radius: 5px;
  height: 820px;
  width: 100%;
  bottom: -850px;
  position: absolute;
  transition: bottom 0.4s;
  background: #F1F1F3;
  z-index: 700 !important;
  overflow-y: hidden;
}

.form-header{
  display: flex;
  justify-content: space-around;
  align-items: center;
  background: #017CFE;
  height: 40px;
  padding-top: 30px;
  color: white;
}

.form-back-icon{
  font-size: 30px;
  margin-bottom: 7px;
}

.form-main{
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
}

.form-input1{
  border: 0;
  width: 350px;
  height: 45px;
  border-radius: 10px; 
  margin-top: 20px;
  margin-right: 5px;
  padding: 10px;
  font-size: 16px;
}

.form-button1{
  border: 0;
  width: 350px;
  height: 50px;
  border-radius: 15px; 
  margin-top: 12px;
  margin-right: 5px;
  background: skyblue;
  color: #017CFE;
}

.form-input2{
  border: 0;
  width: 350px;
  height: 45px;
  border-radius: 10px; 
  margin-top: 12px;
  margin-right: 5px;
  padding: 10px;
  font-size: 15px;
  font-weight: 500;
}

 .form-input3{
  border: 0;
  width: 350px;
  height: 45px;
  border-radius: 10px; 
  margin-top: 10px;
  margin-right: 5px;
   padding: 10px;
   font-size: 16px;
}

.min-summa{
  margin-top: 5px;
  margin-left: 250px;
  color: grey;
  font-weight: 00;
}

.form-blocks{
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  margin-top: 15px;
}

.form-block1{
  background: #017CFE;
  color: white;
  border-radius: 15px;
  width: 90px;
  height: 60px;
  padding: 10px;
  margin-right: 7px;
}

.form-block2{
  background: white;
  color: grey;
  border-radius: 15px;
  width: 90px;
  height: 60px;
  padding: 10px;
  margin-left: 7px;
  font-weight: 700;
}

.form-text{
  margin-left: 5px;
  margin-top: 12px;
  font-size: 14px;
  color: grey;
}

.form-button2{
  border: 0;
  color: white;
  background: darkorange;
  border-radius: 15px;
  width: 350px;
  height: 65px;
  margin-top: 165px;
  font-size: 17px;
  font-weight: 700;
  
}

.loader {
    position: absolute;
    top: 0;
    left: 0;
    width: 393px;
    height: 100%;
    background-image: url(images/apploading.jpg);
    background-position: center;
    background-size: cover;
    z-index: 9999;
}

.edit-window {
        display: none;
        position: absolute;
        top: 50%;
        left: 70%;
        transform: translate(-50%, -50%);
        padding: 20px;
        background-color: #f9f9f9;
        border: 1px solid #ccc;
        border-radius: 5px;
        z-index: 19999;
}

.input-in-ew{
  padding: 5px; 
  border-radius: 10px; 
  border: 1px solid grey;color: green;
  margin-bottom: 15px;
  margin-left: 10px;
}

.input-in-ew:hover {
  border: 1px solid blue;
}
  
</style>  
  
<body>  

  <div id="loader" class="loader"></div>
  <div id="content" class="content">
   
  <div id="notification" class="notification"> 
  <div class="notification-content"><h4>Успешно</h4><p style="margin-top: 5px; font-weight: 300;">Список поставщиков обновлён</p></div> 
  </div> 
      
<div id="container" class="container allskeleton">  
    <div class="prilozhenie">  
        <header>  
            <div class="header-bar1">  
              <img src="images/dc.next.menushka.png" class="icon-menu" onclick="toggleSidebar()" width="35"> 
            </div>  
            <img style="margin-left: 30px;" src="images/dc.nextlogo.png" width="65px" alt="">  
            <div class="header-bar2">  
              <img class="icon1" src="images/dc.next-qr-code.png" width="30px">  
              <img class="icon1 uvedomleniye" src="images/dc.next-uvedomleniye.png" width="26px">  
            </div>  
           
<div class="sidebar"> 
    <nav class="menu"> 
        <ul> 
          <img width="190px" src="images/dc.next-formenu.png"> 
          <div class="name-number-edit-window">
            <li><p class="username" href="#">Исмоил Хамидзода</p></li> 
            <p class="telephon-number-in-menu">+992 (07) 023-4747</p><br>
          </div>
            <li class="ispvp"><img src="images/dc.next-identification.png" width="35px"><a href="perevod.html"><p class="menu-links">Идентифицирован</p></a></li> 
            <li class="ispvp"><img src="images/dc.next-svyazsbankom.png" width="35px"><a href="#"><p class="menu-links"> Связь с банком</p></a></li> 
            <li class="ispvp"><img src="images/dc.next-parametri.png" width="35px"><a href="#"><p class="menu-links"> Параметры</p></a></li> 
            <li class="ispvp"><img src="images/dc.next-voprosi.png" width="35px"><a href="#"><p class="menu-links"> Частые вопросы</p></a></li> 
            <li class="ispvp"><img src="images/dc.next-podelitsya.png" width="35px"><a href="#"><p class="menu-links"> Поделиться приложением</p></a></li> 
        </ul> 

        <div class="edit-window">
          <button class="close-edit-window" style="margin-bottom: 25px; border: 0; margin-left: 185px;">Х</button>
          <input class="input-in-ew" type="text" id="newName" placeholder="Введите новое имя">
          <input class="input-in-ew" type="tel" maxlength="18" id="newNumber" placeholder="Введите новый номер">
          <input class="input-in-ew" id="newBalance" type="tel" maxlength="7" placeholder="Введите новый баланс">
          <button style="margin-top: px; margin-left: 61px; padding: 5px;" id="editButton">Применить</button>
        </div>

      <button class="vikhod-btn"><img style="margin: 10px;" src="images/dc.next-vikhod.png" width="30px"> Выход</button> 
       <div class="versiya-sborka-block"> 
      <p>Версия: 2.3.1</p> <p style="margin-left: 15px;">Сборка: 281:3451</p> 
      </div> 
      <nav class="menu2" onclick="toggleSidebar()"></nav> 
    </nav> 
</div> 
        </header>  
  
        <video id="scanner" style="display: none;"></video> 
 
        <main>  
            <div class="main-header">  
                <div class="input-poisk">  
                    <ion-icon class="icon-poisk" name="search-outline"></ion-icon>  
                    <input class="poisk" type="text" placeholder="Поиск">  
                </div>  
  
                <div class="balance">  
                    <div class="check-and-time">  
                        <div class="check">  
                         <h1 class="hide-balance">****</h1><h1 class="balance-view">0</h1><h6 class="tjs">TJS</h6><br>  
                        </div>  
                        <div class="time">  
                            <p>30.04.24 - 18:29:10</p>  
                        </div>  
                    </div>  
                    <div class="balance-icons">  
                        <ion-icon id="eye-icon" name="eye-outline"></ion-icon>  
                        <ion-icon class="icon-repeat" id="showNotification" name="sync-outline"></ion-icon>  
                    </div>                  
                </div>  
            </div>  
  
            <div class="main-card-razdels">  
                <div class="razdel1">  
                    <div class="card1" onclick="toggleForm()">  
                        <img class="dc-image1" src="images/dc-image1.jpg" alt="dc">  
                        <p style="margin-top: 3px;">DC (по номеру телефона)</p>  
                    </div>  
                </div>  
  
                <div class="razdel2">  
                    <div class="card2">  
                        <img style="margin-top: 3px; margin-left: 15px;" width="190px" src="images/dc.next1.png" alt="">  
                    </div>  
                    <div class="card3">  
                        <img style="margin-top: 3px; margin-left: 20px;" width="180px" src="images/dc.next2.png" alt="">  
                    </div>  
                    <div class="card4">  
                        <img style="margin-top: 3px; margin-left: 25px; border-radius: 10px;" width="150px" src="images/dc.next3.png" alt="">  
                    </div>  
                </div>  
  
                <div class="razdel3">  
                    <div class="card5">  
                        <img style="margin-left: 15px;" width="240px" src="images/dc.next4.png" alt="">  
                    </div>  
                    <div class="card6">  
                        <img style="margin-left: 9px;" width="118px" src="images/dc.next5.png" alt="">  
                    </div>  
                </div>  
  
                <div class="razdel4">  
                    <div class="card7">
                      <img style="margin-left: 15px;" width="118px" src="images/dc.next6.png" alt="">  
                    </div>  
                    <div class="card8">  
                        <img style="margin-left: 9px;" width="113px" src="images/dc.next7.png" alt="">  
                    </div>  
                    <div class="card9">  
                        <img style="margin-left: 11px;" width="113px" src="images/dc.next8.png" alt="">  
                    </div>  
                </div>  
  
                <div class="razdel5">  
                    <div class="card7">  
                        <img style="margin-left: 16px; margin-bottom: 1px;" width="116px" src="images/dc.next9.png" alt="">  
                    </div>  
                    <div class="card8">  
                        <img style="margin-left: 9px;" width="120px" src="images/dc.next10.png" alt="">  
                    </div>  
                    <div class="card9">  
                        <img style="margin-left: 6px;" width="115px" src="images/dc.next11.png" alt="">  
                    </div>  
                </div>  
            </div>  
        </main>  
  
        <footer>  
            <div class="footer-block1"> 
              <a href=""> 
                <div class="footer-razdel1">  
                  <img width="24px" src="images/icon-glv-active.png" alt=""> 
                    <p style="margin-top: 5px; text-align: center;" class="footer-undertext">Главная</p>  
                </div>  
              </a> 
                <a href="perevod.html"> 
                <div class="footer-razdel2">  
                      <img width="24px" src="images/icon-perevodi.png" alt=""> 
                    <p style="margin-top: 5px; text-align: center;" class="footer-undertext">Переводы</p>  
                </div>  
              </a> 
            </div>  
            <div class="footer-razdel4">  
                <img id="startScanButton" src="images/dc.next.scanner.png" class="scanner" width="54px" alt="">  
            </div>  
            <div class="footer-block2">  
              <a href=""> 
                <div class="footer-razdel3">  
                  <img src="images/icon-servisi.png" width="24px" alt=""> 
                    <p style="margin-top: 5px;" class="footer-undertext">Сервисы</p>  
                </div>  
              </a> 
              <a href=""> 
                <div class="footer-razdel5">  
                  <img src="images/icon-istori.png" width="24px" alt=""> 
                    <p style="margin-top: 5px;" class="footer-undertext">История</p>  
                </div>  
              </a> 
            </div>  
          
          <div class="form">
    <div class="form-header">
      <ion-icon class="form-back-icon" onclick="toggleForm()" name="chevron-back-outline"></ion-icon><h3 style="font-weight: 500;">DC (по номеру телефона)</h3><div style="font-size: 50px; margin-top: 15px;"><ion-icon style="width: 30px; margin-bottom: 7px;" name="star-outline"></ion-icon></div>
    </div>
      
      <div class="form-main">
        <input class="form-input1" type="tel" placeholder="Номер телефона поучателя">
        <button class="form-button1">Проверить номер/счет</button>
        <input class="form-input2" type="number" placeholder="TJS Сумма">
        <input class="form-input3" placeholder="Коментарий">
        <div class="min-summa"><h5>Мин. сумма: 0 TJS</h5></div>
        
        <div class="form-blocks">
          <div class="form-block1">
            <p>DBS****1248</p>
            <p style="margin-top: 25px;" class="balance-in-card">0,93</p>
          </div>
          
          <div class="form-block2">
            <p>Оплатить<br>карты РФ</p>
          </div>
        </div>
        
        <div class="form-text">
          <p>Для перевода на карту Душанбе Сити укажите<br>
            номер кошелька и введите сумму перевода. Без <br>
            комиссии. Если вы отправили деньги не тому <br>
            человеку, обратитесь к получателю перевода.<br>
            Деньги может вернуть только получатель.</p>
        </div>
        
        <div>
          <button class="form-button2">Далее</button>
        </div>
        
      </div>
    </div>
          
        </footer>  
    </div>  
</div>  
  
  <script> 

window.addEventListener('load', function () {
    const loader = document.getElementById('loader');
    const content = document.getElementById('container');
    
    loader.style.display = 'none';
    content.style.display = 'block';
});






const editWindow = document.querySelector('.edit-window');
    const editButton = document.getElementById('editButton');
    const newNameInput = document.getElementById('newName');
    const newNumberInput = document.getElementById('newNumber');
    const username = document.querySelector('.username');
    const phoneNumber = document.querySelector('.telephon-number-in-menu');
    const balanceViewChange = document.querySelector('.balance-view');
    const newBalanceInput = document.getElementById('newBalance');
    
    // Загрузка данных из localStorage при загрузке страницы
    if (localStorage.getItem('newName')) {
        username.textContent = localStorage.getItem('newName');
    }
    if (localStorage.getItem('newNumber')) {
        phoneNumber.textContent = localStorage.getItem('newNumber');
    }
    if (localStorage.getItem('newNumber')) {
        balanceViewChange.textContent = localStorage.getItem('newBalance');
    }

    document.querySelector('.name-number-edit-window').addEventListener('click', function() {
        editWindow.style.display = 'block';
    });
  
  document.querySelector('.close-edit-window').addEventListener('click', function() {
        editWindow.style.display = 'none';
    });

    editButton.addEventListener('click', function() {
        const newName = newNameInput.value;
        const newNumber = newNumberInput.value;
        const newBalance = newBalanceInput.value;
        
        if (newName && newNumber && newBalance) {
            username.textContent = newName;
            phoneNumber.textContent = newNumber;
            balanceViewChange.textContent = newBalance;
            localStorage.setItem('newName', newName);
            localStorage.setItem('newNumber', newNumber);
            localStorage.setItem('newBalance', newBalance);
            editWindow.style.display = 'none';
        } else {
            alert('Пожалуйста, введите имя, номер телефона и баланс.');
        }
    });
  
  
  
  
  
  

const balanceViewRepeat = document.querySelector('.balance-view');
const iconRepeat = document.querySelector('.icon-repeat');

// Проверяем есть ли сохраненное значение в localStorage и устанавливаем его
if (localStorage.getItem('currentBalance')) {
    balanceViewRepeat.textContent = localStorage.getItem('currentBalance');
}

iconRepeat.addEventListener('click', function() {
    let currentBalance = parseFloat(balanceView.textContent.replace(',', '.'));
    currentBalance += 55.32;
    balanceViewRepeat.textContent = currentBalance.toFixed(2).replace('.', ',');
    
    // Сохраняем новое значение в localStorage
    localStorage.setItem('currentBalance', balanceViewRepeat.textContent);
});



document.addEventListener('DOMContentLoaded', function() {
    const input3 = document.getElementById('newBalance');
    const balanceViewForInCard = document.querySelector('.balance-view');
    const balanceInCard = document.querySelector('.balance-in-card');
    const iconRepeat = document.querySelector('.icon-repeat');
    
    if(localStorage.getItem('balanceValue')) {
        balanceInCard.textContent = localStorage.getItem('balanceValue');
    }

    input3.addEventListener('input', function() {
        balanceViewForInCard.textContent = input3.value;
        balanceInCard.textContent = input3.value;
        localStorage.setItem('balanceValue', input3.value);
    });

    iconRepeat.addEventListener('click', function() {
        let currentValue = parseFloat(balanceInCard.textContent.replace(',', '.'));
        balanceInCard.textContent = currentValue += 55.32;
        iconRepeat.textContent = currentValue.toFixed(2).replace('.', ',');
        localStorage.setItem('balanceValue', balanceInCard.textContent);
    });
});
  
  
  
// const cards = document.querySelectorAll('.cardopen');
// const fullscreen = document.querySelector('.fullscreen');
// const fullscreenImage = document.querySelector('.fullscreen-image');
// const progressBar = document.querySelector('.progress-bar');
// const closeButton = document.querySelector('.close-button');

// let currentIndex = 0;

// cards.forEach((card, index) => {
//     card.addEventListener('click', () => {
//         currentIndex = index;
//         fullscreenImage.src = card.dataset.image;
//         fullscreen.style.display = 'block';
//         progressBar.style.width = '100%';

//         closeButton.addEventListener('click', () => {
//             fullscreen.style.display = 'none';
//             currentIndex = 0;
//         });

//         fullscreenImage.addEventListener('click', () => {
//             if (currentIndex < cards.length - 1) {
//                 currentIndex++;
//                 fullscreenImage.src = cards[currentIndex].dataset.image;
//                 progressBar.style.width = '0';
//                 setTimeout(() => {
//                     progressBar.style.width = '100%';
//                 }, 100);
//             } else {
//                 fullscreen.style.display = 'none';
//                 currentIndex = 0;
//             }
//         });
//     });
// });
   
  </script> 

<script src="js/notifications.js"></script>
<script src="js/scanner.js"></script>

 
</body>  
</html>