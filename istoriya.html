<!DOCTYPE html>  
<html lang="en">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">  
    <meta name="google" content="notranslate">
    <link rel="website icon" type="png" href="images/logoapp.png"> 
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>  
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>  
    <title>DC Next App</title>  
    <script src="https://rawgit.com/schmich/instascan-builds/master/instascan.min.js"></script> 
</head>  
  
<style>  
  
*{ 
    margin: 0; 
    padding: 0; 
    font-family: sans-serif; 
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
}
 
::-webkit-scrollbar{  
    display: none; 
} 
  
.prilozhenie{  
    background-color: white;  
    height: 100%; 
}  
  
header{  
    display: flex;  
    justify-content: space-around;  
    align-items: center;  
    width: 100%;  
    border-bottom: 1px solid rgb(216, 214, 214);  
    position: fixed;  
    background: #F1F1F3;  
    z-index: 100;  
    height: 45px; 
}  
  
.h2-perevodi{ 
    font-size: 18px; 
} 
 
.uvedomleniye{ 
  margin-bottom: 6px; 
} 
 
.elastic-effect { 
  transition: transform 0.5s ease; 
} 
  
main{  
  height: 100vh; 
  overflow: hidden; 
}  
  
main::-webkit-scrollbar{  
    width: 0;  
}  
  
.main-header{  
    display: flex;  
    justify-content: center;  
    align-items: center;  
    flex-direction: column;  
}  
  
.card1{  
    display: flex;      
    align-items: center;  
    width: 350px;  
    height: 125px;  
    background: white;  
    font-size: 8px;  
    border-radius: 10px;   
    margin-top: 63px;  
}  
  
.dc-image1{  
    border: 1px solid grey;  
    border-radius: 50px;  
    width: 35px;  
    margin-left: 15px; 
}  
 
.card1-text{ 
    margin-left: 10px; 
} 
 
.card2{  
    display: flex;  
    justify-content: space-between;  
    align-items: center;  
    width: 350px;  
    height: 85px;  
    color: grey;  
    background: white;  
    font-size: 8px;  
    border-radius: 10px;   
    margin-top: 15px; 
} 
  
footer{  
    display: flex;  
    justify-content: space-between;  
    position: fixed;  
    height: 7.5%;  
    bottom: 0;  
    background: #F1F1F3;  
    width: 393px;  
}  
  
.footer-block1{  
    display: flex;  
    border-top: 1px solid gainsboro;  
    border-radius: 25px;  
    padding-right: 25px;  
    padding-top: 10px;  
}  
  
.footer-block2{  
    display: flex;  
    border-top: 1px solid gainsboro;  
    border-radius: 25px;  
    padding-left: 25px;  
    padding-top: 10px;  
}  
  
.footer-razdel1{ 
    display: flex; 
    justify-content: center; 
    align-items: center; 
    flex-direction: column; 
    width: 75px; 
} 
 
.footer-razdel2{ 
    display: flex; 
    justify-content: center; 
    align-items: center; 
    flex-direction: column; 
    width: 90px; 
} 
 
.footer-razdel3{ 
    display: flex; 
    justify-content: center; 
    align-items: center; 
    flex-direction: column; 
    width: 50px; 
    margin-right: 25px; 
} 
 
.footer-razdel5{ 
    display: flex; 
    justify-content: center; 
    align-items: center; 
    flex-direction: column; 
    width: 70px; 
    margin-right: 15px; 
} 
  
.footer-razdel4{  
  height: 200px; 
  border-bottom: 2px solid gainsboro; 
  border-radius: 25px; 
  width: 100px; 
}  
 
.scanner{ 
  z-index: 200; 
  position: absolute; 
  right: 175px; 
  bottom: 30px;  
  padding-bottom: 5px; 
  border-bottom: 2px solid gainsboro; 
  border-radius: 25px; 
  box-shadow: 0px 2px 15px rgba(0, 0, 0, 0.3); 
  background: #cacaca; 
} 
  
.footer-undertext{  
    font-size: 10px;  
    font-weight: 700;  
    color: rgb(161, 159, 159);  
}  
 
.notification { 
  display: none; 
  position: fixed; 
  top: -100px; 
  left: 50%; 
  transform: translateX(-50%); 
  color: black; 
  padding-left: 15px; 
  padding-top: 10px; 
  border-radius: 15px; 
  z-index: 9999; 
  transition: all 0.5s ease; 
  background: transparent; 
  backdrop-filter: blur(70px); 
  width: 250px; 
  height: 60px; 
} 
 
.telephon-number-in-menu{ 
  color: grey; 
} 
 
.ispvp{ 
  display: flex; 
  align-items: center; 
} 
 
.link-in-menu{ 
  margin-top: 105px; 
} 
 
.vikhod-btn{ 
  margin-top: 50px; 
  width: 250px; 
  height: 50px; 
  border: 0; 
  border-radius: 15px; 
  font-size: 25px; 
  display: flex; 
  justify-content: center; 
  align-items: center; 
  color: white; 
  background: #017CFE; 
} 
 
a{ 
    text-decoration: none; 
} 
 
.skeleton{ 
    position: relative; 
} 
 
.skeleton::before{ 
    content: ''; 
    position: absolute; 
    top: 0; 
    left: 0; 
    width: 393px; 
    height: 100%; 
    z-index: 10000; 
    background-image: url(images/apploading.jpg); 
    background-size: 100%; 
    background-repeat: no-repeat; 
    background-color: white; 
} 

.form.openn {
    bottom: 0;
}


.form{
  border: 2px solid grey;
  border-radius: 5px;
  height: 820px;
  width: 100%;
  bottom: -850px;
  position: absolute;
  transition: bottom 0.4s;
  background: #F1F1F3;
  z-index: 700 !important;
  overflow-y: hidden;
}

.form-header{
  display: flex;
  justify-content: space-around;
  align-items: center;
  background: #017CFE;
  height: 40px;
  padding-top: 30px;
  color: white;
}

.form-back-icon{
  font-size: 35px;
}

.form-main{
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
}

.form-input1{
  border: 0;
  width: 350px;
  height: 45px;
  border-radius: 10px; 
  margin-top: 20px;
  margin-right: 5px;
  padding: 10px;
  font-size: 16px;
}

.form-button1{
  border: 0;
  width: 350px;
  height: 50px;
  border-radius: 15px; 
  margin-top: 12px;
  margin-right: 5px;
  background: skyblue;
  color: #017CFE;
}

.form-input2{
  border: 0;
  width: 350px;
  height: 45px;
  border-radius: 10px; 
  margin-top: 12px;
  margin-right: 5px;
  padding: 10px;
  font-size: 15px;
  font-weight: 500;
}

.form-input3{
  border: 0;
  width: 350px;
  height: 45px;
  border-radius: 10px; 
  margin-top: 10px;
  margin-right: 5px;
   padding: 10px;
   font-size: 16px;
}

.min-summa{
  margin-top: 5px;
  margin-left: 250px;
  color: grey;
  font-weight: 00;
}

.form-blocks{
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  margin-top: 15px;
}

.form-block1{
  background: #017CFE;
  color: white;
  border-radius: 15px;
  width: 90px;
  height: 60px;
  padding: 10px;
  margin-right: 7px;
}

.form-block2{
  background: white;
  color: grey;
  border-radius: 15px;
  width: 90px;
  height: 60px;
  padding: 10px;
  margin-left: 7px;
  font-weight: 700;
}

.form-text{
  margin-left: 5px;
  margin-top: 12px;
  font-size: 14px;
  color: grey;
}

.form-button2{
  border: 0;
  color: white;
  background: darkorange;
  border-radius: 15px;
  width: 350px;
  height: 65px;
  margin-top: 165px;
  font-size: 17px;
  font-weight: 700;
  
}

.h2-block1{
  height: 40px;
  width: 200px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-bottom: 5px solid #017CFE;
  margin-right: 100px;
}

@media (width > 394px) {
    .container{ 
        width: 100%;
    } 
     
    .prilozhenie{ 
        width: 100%; 
    } 

    header{
        width: 100%;
    }

    .menu2{
        width: 200px;
    }

    main{
        width: 100%;
    }

    footer{
        display: flex;
        justify-content: space-around;
        width: 100%;
    }

    .footer-block1, .footer-block2{
        display: flex;
        padding-left: 0px;
        padding-right: 0px;
    }

    .scanner{
        left: 45%;
    }
}
  
</style>  
  
<body>  
      
<div class="container skeleton">  
    <div class="prilozhenie" onclick="vibratePhone()">  
        <header>  
          <div class="h2-block1">
         <h2 class="h2-perevodi">Операции</h2>
          </div>
         <h2 style="margin-right: 51px;" class="h2-perevodi">Выписка</h2>
        </header>  
  
        <video id="scanner" style="display: none;"></video> 
 
        <main>  
       
        </main>  
  
                <footer>  
            <div class="footer-block1"> 
              <a href="index.html"> 
                <div class="footer-razdel1">  
                  <img width="24px" src="images/icon-glv.png" alt=""> 
                    <p style="margin-top: 5px; text-align: center;" class="footer-undertext">Главная</p>  
                </div>  
              </a> 
                <a href="perevod.html"> 
                <div class="footer-razdel2">  
                      <img width="24px" src="images/icon-perevodi.png" alt=""> 
                    <p style="margin-top: 5px; text-align: center;" class="footer-undertext">Переводы</p>  
                </div>  
              </a> 
            </div>  
            <div class="footer-razdel4">  
                <img id="startScanButton" src="images/dc.next.scanner.png" class="scanner" width="54px" alt="">  
            </div>  
            <div class="footer-block2">  
              <a href="servisi.html"> 
                <div class="footer-razdel3">  
                  <img src="images/icon-servisi.png" width="24px" alt=""> 
                    <p style="margin-top: 5px;" class="footer-undertext">Сервисы</p>  
                </div>  
              </a> 
              <a href=""> 
                <div class="footer-razdel5">  
                  <img src="images/icon-istori-active.png" width="24px" alt=""> 
                    <p style="margin-top: 5px;" class="footer-undertext">История</p>  
                </div>  
              </a> 
            </div>  
          
          <div class="form">
    <div class="form-header">
      <div class="form-back-icon" onclick="toggleForm()"><</div><h3>DC (по номеру телефона)</h3><div style="font-size: 50px; margin-top: 15px;">*</div>
    </div>
      
      <div class="form-main">
        <input class="form-input1" placeholder="Номер телефона поучателя">
        <button class="form-button1">Проверить номер/счет</button>
        <input class="form-input2" placeholder="TJS Сумма">
        <input class="form-input3" placeholder="Коментарий">
        <div class="min-summa"><h5>Мин. сумма: 0 TJS</h5></div>
        
        <div class="form-blocks">
          <div class="form-block1">
            <p>DBS****1248</p>
            <p style="margin-top: 25px;">0,93</p>
          </div>
          
          <div class="form-block2">
            <p>Оплатить<br>карты РФ</p>
          </div>
        </div>
        
        <div class="form-text">
          <p>Для перевода на карту Душанбе Сити укажите<br>
            номер кошелька и введите сумму перевода. Без <br>
            комиссии. Если вы отправили деньги не тому <br>
            человеку, обратитесь к получателю перевода.<br>
            Деньги может вернуть только получатель.</p>
        </div>
        
        <div>
          <button class="form-button2">Далее</button>
        </div>
        
      </div>
    </div>
          
        </footer>  
    </div>  
</div>  
  
  <script> 
let startY = 0; 
let currentY = 0; 
let isScrolling = false; 
const maxStretch = 100; // Максимальное значение растяжения 
 
document.addEventListener('touchstart', (e) => { 
  startY = e.touches[0].clientY; 
  isScrolling = false; 
}); 
 
document.addEventListener('touchmove', (e) => { 
  if (!isScrolling) {
    currentY = e.touches[0].clientY; 
    let diff = currentY - startY; 
    if ((diff > 0 && window.scrollY === 0) || (diff < 0 && window.scrollY + window.innerHeight >= document.body.clientHeight)) { 
      e.preventDefault(); 
      let stretchAmount = Math.min(Math.abs(diff), maxStretch) * Math.sign(diff); // Ограничиваем растяжение 
      document.querySelector('main').classList.add('elastic-effect'); 
      document.querySelector('main').style.transform = `translateY(${stretchAmount}px)`; 
    } else { 
      isScrolling = true; 
    } 
  } 
}); 
 
document.addEventListener('touchend', () => { 
  document.querySelector('main').classList.remove('elastic-effect'); 
  document.querySelector('main').style.transform = 'translateY(0)'; 
}); 
 
 
 
 
 
   
const startScanButton = document.getElementById('startScanButton'); 
const scanner = new Instascan.Scanner({ video: document.getElementById('scanner'), mirror: false }); // mirror: false для использования задней камеры 
let timer; 
 
startScanButton.addEventListener('click', async () => { 
    try { 
        const cameras = await Instascan.Camera.getCameras(); 
        if (cameras.length > 0) { 
            scanner.start(cameras[cameras.length - 1]); // Используем последнюю камеру (заднюю) 
            scanner.addListener('scan', function (content) { 
                alert('QR-код найден: ' + content); 
                clearTimeout(timer); // Сбрасываем таймер при обнаружении QR-кода 
            }); 
            document.getElementById('scanner').style.display = 'block'; 
 
            timer = setTimeout(() => { 
                scanner.stop(); // Останавливаем сканирование после 3 секунд без обнаружения QR-кода 
                document.getElementById('scanner').style.display = 'none'; 
                alert('QR-код не найден. Камера закрыта.'); 
            }, 6000); 
        } else { 
            alert('Камера не найдена'); 
        } 
    } catch (error) { 
        console.error('Ошибка при доступе к камере:', error); 
    } 
}); 
 
 
 
 
const allSkeletonis = document.querySelectorAll('.skeleton'); 
 
window.addEventListener('load', function() { 
    allSkeletonis.forEach(item=> { 
        item.classList.remove('skeleton'); 
    }); 
}); 
  
  
  
  
  function toggleForm() {
    var form = document.querySelector('.form');
     form.classList.toggle('openn');
      if (form.classList.contains('openn')) {
        document.querySelector('header').style.zIndex = '-1';
  } else {
    document.querySelector('header').style.zIndex = '100';
  }
}





function vibratePhone() {
        if ("vibrate" in navigator) {
            // Задаем длительность вибрации
            navigator.vibrate(40); // Продолжительность в миллисекундах
        } else {
            alert("Ваше устройство не поддерживает функцию вибрации.");
        }
    }






    // Отключение поведения pull-to-refresh
window.addEventListener('load', () => {
  let touchStartY = 0;
  let touchEndY = 0;

  document.addEventListener('touchstart', (event) => {
    touchStartY = event.touches[0].clientY;
  });

  document.addEventListener('touchmove', (event) => {
    touchEndY = event.touches[0].clientY;
    
    if (touchEndY > touchStartY && window.scrollY === 0) {
      event.preventDefault();
    }
  }, { passive: false });
});
   
  </script> 
   
</body>  
</html>