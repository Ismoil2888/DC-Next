<!DOCTYPE html>  
<html lang="en">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">  
    <meta name="google" content="notranslate">
    <meta name="theme-color" content="#F1F1F3">
    <link rel="stylesheet" href="styles/servisi.css"> 
    <link rel="website icon" type="png" href="images/logoapp.png"> 
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>  
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>  
    <title>DC Next App</title>  
    <script src="https://rawgit.com/schmich/instascan-builds/master/instascan.min.js"></script> 
</head> 
  
<body>  
      
<div class="container skeleton">  
    <div class="prilozhenie" onclick="vibratePhone()">  
        <header>  
         <h2 class="h2-perevodi">Сервисы</h2> 
        </header>  
  
        <video id="scanner" style="display: none;"></video> 
 
        <main>
            <div class="main-header">  
            <div class="card1" onclick="toggleForm()">  
                <div class="card1-text"> 
                <h1>Карта банкоматов</h1><br> 
                <p style="font-size: 14px; color: #8F8F8F;">Посмотрите наиболее<br>ближайший банкомат</p> 
                </div> 
                <img style="margin-left: 93px; margin-top: 2px;" width="95" src="images/dcbankomat.png" alt="dc"> 
            </div>  

            <div class="card2">  
                <div class="card2-text"> 
                    <h1>Neru</h1><br> 
                    <p style="font-size: 14px; color: #8F8F8F;">Быстрая зарядка для<br>электрокаров по всему городу</p> 
                </div>     
                <img style="margin-right: 10px;" width="84" src="images/dcneru.png" alt="">            
            </div>  

            <div class="card3">  
                  <div class="card3-text" style="margin-bottom: 40px;">  
                  <h1 style="margin-bottom: 10px;">CityParking</h1>  
                  <p style="font-size: 14px; color: #8F8F8F;">Оплата платных парковок</p> 
                  </div>  
                  <img style="margin-left: 85px;" width="55" src="images/cityparking.png" alt="dc"> 
            </div>  

            <div class="card4">  
                <div class="card1-text" style="margin-top: 10px;"> 
                <h1>Авиабилеты</h1><br> 
                <p style="font-size: 14px; color: #8F8F8F;">платформа для приобретения<br>авиабилетов по всем<br>направлениям</p> 
                </div>  
                <img style="margin-left: 42px;" width="101" src="images/dcavia.png" alt="dc">                
            </div>  

            <div class="5 card3">  
                <div class="card3-text">  
                <h1 style="margin-bottom: 10px;">Перевозки</h1>
                <p style="font-size: 14.35px; color: #8F8F8F;">Перевозка грузов со многих<br>стран</p>   
                </div> 
                <img style="margin-left: 45px; margin-top: 1px;" width="103.5" src="images/dccargo.png" alt="">  
            </div>

            <div class="card6">  
                <div class="card3-text"> 
                    <h2>Заказать карту</h2><br> 
                    <p style="font-size: 14px; color: #8F8F8F;">Закажите карту с самыми<br>крутыми дизайными</p> 
                    </div> 
                    <img style="margin-left: 64px;" width="105" src="images/zakazkart.png" alt="dc"> 
            </div>  
        </div>
        </main>  
  
                <footer>  
            <div class="footer-block1"> 
              <a href="index.html"> 
                <div class="footer-razdel1">  
                  <img width="24px" src="images/icon-glv.png" alt=""> 
                    <p style="margin-top: 5px; text-align: center;" class="footer-undertext">Главная</p>  
                </div>  
              </a> 
                <a href="perevod.html"> 
                <div class="footer-razdel2">  
                      <img width="24px" src="images/icon-perevodi.png" alt=""> 
                    <p style="margin-top: 5px; text-align: center;" class="footer-undertext">Переводы</p>  
                </div>  
              </a> 
            </div>  
            <div class="footer-razdel4">  
                <img id="startScanButton" src="images/dc.next.scanner.png" class="scanner" width="54px" alt="">  
            </div>  
            <div class="footer-block2">  
              <a href=""> 
                <div class="footer-razdel3">  
                  <img src="images/icon-servisi-active.png" width="24px" alt=""> 
                    <p style="margin-top: 5px; color: #4a76a5;" class="footer-undertext">Сервисы</p>  
                </div>  
              </a> 
              <a href="istoriya.html"> 
                <div class="footer-razdel5">  
                  <img src="images/icon-istori.png" width="24px" alt=""> 
                    <p style="margin-top: 5px;" class="footer-undertext">История</p>  
                </div>  
              </a> 
            </div>  
          
          <div class="form">
    <div class="form-header">
      <div class="form-back-icon" onclick="toggleForm()"><</div><h3>DC (по номеру телефона)</h3><div style="font-size: 50px; margin-top: 15px;">*</div>
    </div>
      
      <div class="form-main">
        <input class="form-input1" placeholder="Номер телефона поучателя">
        <button class="form-button1">Проверить номер/счет</button>
        <input class="form-input2" placeholder="TJS Сумма">
        <input class="form-input3" placeholder="Коментарий">
        <div class="min-summa"><h5>Мин. сумма: 0 TJS</h5></div>
        
        <div class="form-blocks">
          <div class="form-block1">
            <p>DBS****1248</p>
            <p style="margin-top: 25px;">0,93</p>
          </div>
          
          <div class="form-block2">
            <p>Оплатить<br>карты РФ</p>
          </div>
        </div>
        
        <div class="form-text">
          <p>Для перевода на карту Душанбе Сити укажите<br>
            номер кошелька и введите сумму перевода. Без <br>
            комиссии. Если вы отправили деньги не тому <br>
            человеку, обратитесь к получателю перевода.<br>
            Деньги может вернуть только получатель.</p>
        </div>
        
        <div>
          <button class="form-button2">Далее</button>
        </div>
        
      </div>
    </div>
          
        </footer>  
    </div>  
</div>  
  
  <script> 
let startY = 0; 
let currentY = 0; 
let isScrolling = false; 
const maxStretch = 100; // Максимальное значение растяжения 
 
document.addEventListener('touchstart', (e) => { 
  startY = e.touches[0].clientY; 
  isScrolling = false; 
}); 
 
document.addEventListener('touchmove', (e) => { 
  if (!isScrolling) {
    currentY = e.touches[0].clientY; 
    let diff = currentY - startY; 
    if ((diff > 0 && window.scrollY === 0) || (diff < 0 && window.scrollY + window.innerHeight >= document.body.clientHeight)) { 
      e.preventDefault(); 
      let stretchAmount = Math.min(Math.abs(diff), maxStretch) * Math.sign(diff); // Ограничиваем растяжение 
      document.querySelector('main').classList.add('elastic-effect'); 
      document.querySelector('main').style.transform = `translateY(${stretchAmount}px)`; 
    } else { 
      isScrolling = true; 
    } 
  } 
}); 
 
document.addEventListener('touchend', () => { 
  document.querySelector('main').classList.remove('elastic-effect'); 
  document.querySelector('main').style.transform = 'translateY(0)'; 
}); 
 
 
 
 
 
   
const startScanButton = document.getElementById('startScanButton'); 
const scanner = new Instascan.Scanner({ video: document.getElementById('scanner'), mirror: false }); // mirror: false для использования задней камеры 
let timer; 
 
startScanButton.addEventListener('click', async () => { 
    try { 
        const cameras = await Instascan.Camera.getCameras(); 
        if (cameras.length > 0) { 
            scanner.start(cameras[cameras.length - 1]); // Используем последнюю камеру (заднюю) 
            scanner.addListener('scan', function (content) { 
                alert('QR-код найден: ' + content); 
                clearTimeout(timer); // Сбрасываем таймер при обнаружении QR-кода 
            }); 
            document.getElementById('scanner').style.display = 'block'; 
 
            timer = setTimeout(() => { 
                scanner.stop(); // Останавливаем сканирование после 3 секунд без обнаружения QR-кода 
                document.getElementById('scanner').style.display = 'none'; 
                alert('QR-код не найден. Камера закрыта.'); 
            }, 6000); 
        } else { 
            alert('Камера не найдена'); 
        } 
    } catch (error) { 
        console.error('Ошибка при доступе к камере:', error); 
    } 
}); 
 
 
 
 
const allSkeletonis = document.querySelectorAll('.skeleton'); 
 
window.addEventListener('load', function() { 
    allSkeletonis.forEach(item=> { 
        item.classList.remove('skeleton'); 
    }); 
}); 
  
  
  
  
  function toggleForm() {
    var form = document.querySelector('.form');
     form.classList.toggle('openn');
      if (form.classList.contains('openn')) {
        document.querySelector('header').style.zIndex = '-1';
  } else {
    document.querySelector('header').style.zIndex = '100';
  }
}





function vibratePhone() {
        if ("vibrate" in navigator) {
            // Задаем длительность вибрации
            navigator.vibrate(40); // Продолжительность в миллисекундах
        } else {
            alert("Ваше устройство не поддерживает функцию вибрации.");
        }
    }






    // Отключение поведения pull-to-refresh
window.addEventListener('load', () => {
  let touchStartY = 0;
  let touchEndY = 0;

  document.addEventListener('touchstart', (event) => {
    touchStartY = event.touches[0].clientY;
  });

  document.addEventListener('touchmove', (event) => {
    touchEndY = event.touches[0].clientY;
    
    if (touchEndY > touchStartY && window.scrollY === 0) {
      event.preventDefault();
    }
  }, { passive: false });
});
   
  </script> 
   
</body>  
</html>